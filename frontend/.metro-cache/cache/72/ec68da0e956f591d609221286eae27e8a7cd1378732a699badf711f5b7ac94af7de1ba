{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, username, bio = '') => {\n      try {\n        const response = await api.default.post('/auth/register', {\n          email,\n          password,\n          username,\n          bio\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":131,"map":[[15,2,24,0,"Object"],[15,8,24,0],[15,9,24,0,"defineProperty"],[15,23,24,0],[15,24,24,0,"exports"],[15,31,24,0],[16,4,24,0,"enumerable"],[16,14,24,0],[17,4,24,0,"get"],[17,7,24,0],[17,18,24,0,"get"],[17,19,24,0],[18,6,24,0],[18,13,24,0,"AuthProvider"],[18,25,24,0],[19,4,24,0],[20,2,24,0],[21,2,93,0,"Object"],[21,8,93,0],[21,9,93,0,"defineProperty"],[21,23,93,0],[21,24,93,0,"exports"],[21,31,93,0],[22,4,93,0,"enumerable"],[22,14,93,0],[23,4,93,0,"get"],[23,7,93,0],[23,18,93,0,"get"],[23,19,93,0],[24,6,93,0],[24,13,93,0,"useAuth"],[24,20,93,0],[25,4,93,0],[26,2,93,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[28,42,2,0],[28,45,2,0,"require"],[28,52,2,0],[28,53,2,0,"_dependencyMap"],[28,67,2,0],[29,2,2,0],[29,6,2,0,"AsyncStorage"],[29,18,2,0],[29,21,2,0,"_interopDefault"],[29,36,2,0],[29,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,73,2,0],[30,2,3,0],[30,6,3,0,"_utilsApi"],[30,15,3,0],[30,18,3,0,"require"],[30,25,3,0],[30,26,3,0,"_dependencyMap"],[30,40,3,0],[31,2,3,0],[31,6,3,0,"api"],[31,9,3,0],[31,12,3,0,"_interopDefault"],[31,27,3,0],[31,28,3,0,"_utilsApi"],[31,37,3,0],[32,2,3,31],[32,6,3,31,"_reactJsxDevRuntime"],[32,25,3,31],[32,28,3,31,"require"],[32,35,3,31],[32,36,3,31,"_dependencyMap"],[32,50,3,31],[33,2,22,0],[33,8,22,6,"AuthContext"],[33,19,22,17],[33,35,22,20],[33,39,22,20,"createContext"],[33,45,22,33],[33,46,22,33,"createContext"],[33,59,22,33],[33,61,22,63,"undefined"],[33,70,22,72],[33,71,22,73],[34,2,24,7],[34,8,24,13,"AuthProvider"],[34,20,24,66],[34,23,24,69,"AuthProvider"],[34,24,24,70],[35,4,24,72,"children"],[36,2,24,81],[36,3,24,82],[36,8,24,87],[37,4,24,87,"_s"],[37,6,24,87],[38,4,25,2],[38,10,25,8],[38,11,25,9,"user"],[38,15,25,13],[38,17,25,15,"setUser"],[38,24,25,22],[38,25,25,23],[38,28,25,26],[38,32,25,26,"useState"],[38,38,25,34],[38,39,25,34,"useState"],[38,47,25,34],[38,49,25,48],[38,53,25,52],[38,54,25,53],[39,4,26,2],[39,10,26,8],[39,11,26,9,"token"],[39,16,26,14],[39,18,26,16,"setToken"],[39,26,26,24],[39,27,26,25],[39,30,26,28],[39,34,26,28,"useState"],[39,40,26,36],[39,41,26,36,"useState"],[39,49,26,36],[39,51,26,52],[39,55,26,56],[39,56,26,57],[40,4,27,2],[40,10,27,8],[40,11,27,9,"loading"],[40,18,27,16],[40,20,27,18,"setLoading"],[40,30,27,28],[40,31,27,29],[40,34,27,32],[40,38,27,32,"useState"],[40,44,27,40],[40,45,27,40,"useState"],[40,53,27,40],[40,55,27,41],[40,59,27,45],[40,60,27,46],[41,4,29,2],[41,8,29,2,"useEffect"],[41,14,29,11],[41,15,29,11,"useEffect"],[41,24,29,11],[41,26,29,12],[41,32,29,18],[42,6,30,4,"loadStoredAuth"],[42,20,30,18],[42,21,30,19],[42,22,30,20],[43,4,31,2],[43,5,31,3],[43,7,31,5],[43,9,31,7],[43,10,31,8],[44,4,33,2],[44,10,33,8,"loadStoredAuth"],[44,24,33,22],[44,27,33,25],[44,33,33,25,"loadStoredAuth"],[44,34,33,25],[44,39,33,37],[45,6,34,4],[45,10,34,8],[46,8,35,6],[46,14,35,12,"storedToken"],[46,25,35,23],[46,28,35,26],[46,34,35,32,"AsyncStorage"],[46,46,35,44],[46,47,35,44,"default"],[46,54,35,44],[46,55,35,45,"getItem"],[46,62,35,52],[46,63,35,53],[46,70,35,60],[46,71,35,61],[47,8,36,6],[47,14,36,12,"storedUser"],[47,24,36,22],[47,27,36,25],[47,33,36,31,"AsyncStorage"],[47,45,36,43],[47,46,36,43,"default"],[47,53,36,43],[47,54,36,44,"getItem"],[47,61,36,51],[47,62,36,52],[47,68,36,58],[47,69,36,59],[48,8,38,6],[48,12,38,10,"storedToken"],[48,23,38,21],[48,27,38,25,"storedUser"],[48,37,38,35],[48,39,38,37],[49,10,39,8,"setToken"],[49,18,39,16],[49,19,39,17,"storedToken"],[49,30,39,28],[49,31,39,29],[50,10,40,8,"setUser"],[50,17,40,15],[50,18,40,16,"JSON"],[50,22,40,20],[50,23,40,21,"parse"],[50,28,40,26],[50,29,40,27,"storedUser"],[50,39,40,37],[50,40,40,38],[50,41,40,39],[51,8,41,6],[52,6,42,4],[52,7,42,5],[52,8,42,6],[52,15,42,13,"error"],[52,20,42,18],[52,22,42,20],[53,8,43,6,"console"],[53,15,43,13],[53,16,43,14,"error"],[53,21,43,19],[53,22,43,20],[53,43,43,41],[53,45,43,43,"error"],[53,50,43,48],[53,51,43,49],[54,6,44,4],[54,7,44,5],[54,16,44,14],[55,8,45,6,"setLoading"],[55,18,45,16],[55,19,45,17],[55,24,45,22],[55,25,45,23],[56,6,46,4],[57,4,47,2],[57,5,47,3],[58,4,49,2],[58,10,49,8,"login"],[58,15,49,13],[58,18,49,16],[58,24,49,16,"login"],[58,25,49,23,"email"],[58,30,49,36],[58,32,49,38,"password"],[58,40,49,54],[58,45,49,59],[59,6,50,4],[59,10,50,8],[60,8,51,6],[60,14,51,12,"response"],[60,22,51,20],[60,25,51,23],[60,31,51,29,"api"],[60,34,51,32],[60,35,51,32,"default"],[60,42,51,32],[60,43,51,33,"post"],[60,47,51,37],[60,48,51,38],[60,61,51,51],[60,63,51,53],[61,10,51,55,"email"],[61,15,51,60],[62,10,51,62,"password"],[63,8,51,71],[63,9,51,72],[63,10,51,73],[64,8,52,6],[64,14,52,12],[65,10,52,14,"access_token"],[65,22,52,26],[66,10,52,28,"user"],[66,14,52,32],[66,16,52,34,"userData"],[67,8,52,43],[67,9,52,44],[67,12,52,47,"response"],[67,20,52,55],[67,21,52,56,"data"],[67,25,52,60],[68,8,54,6],[68,14,54,12,"AsyncStorage"],[68,26,54,24],[68,27,54,24,"default"],[68,34,54,24],[68,35,54,25,"setItem"],[68,42,54,32],[68,43,54,33],[68,50,54,40],[68,52,54,42,"access_token"],[68,64,54,54],[68,65,54,55],[69,8,55,6],[69,14,55,12,"AsyncStorage"],[69,26,55,24],[69,27,55,24,"default"],[69,34,55,24],[69,35,55,25,"setItem"],[69,42,55,32],[69,43,55,33],[69,49,55,39],[69,51,55,41,"JSON"],[69,55,55,45],[69,56,55,46,"stringify"],[69,65,55,55],[69,66,55,56,"userData"],[69,74,55,64],[69,75,55,65],[69,76,55,66],[70,8,57,6,"setToken"],[70,16,57,14],[70,17,57,15,"access_token"],[70,29,57,27],[70,30,57,28],[71,8,58,6,"setUser"],[71,15,58,13],[71,16,58,14,"userData"],[71,24,58,22],[71,25,58,23],[72,6,59,4],[72,7,59,5],[72,8,59,6],[72,15,59,13,"error"],[72,20,59,23],[72,22,59,25],[73,8,60,6],[73,14,60,12],[73,18,60,16,"Error"],[73,23,60,21],[73,24,60,22,"error"],[73,29,60,27],[73,30,60,28,"response"],[73,38,60,36],[73,40,60,38,"data"],[73,44,60,42],[73,46,60,44,"detail"],[73,52,60,50],[73,56,60,54],[73,70,60,68],[73,71,60,69],[74,6,61,4],[75,4,62,2],[75,5,62,3],[76,4,64,2],[76,10,64,8,"register"],[76,18,64,16],[76,21,64,19],[76,27,64,19,"register"],[76,28,64,26,"email"],[76,33,64,39],[76,35,64,41,"password"],[76,43,64,57],[76,45,64,59,"username"],[76,53,64,75],[76,55,64,77,"bio"],[76,58,64,88],[76,61,64,91],[76,63,64,93],[76,68,64,98],[77,6,65,4],[77,10,65,8],[78,8,66,6],[78,14,66,12,"response"],[78,22,66,20],[78,25,66,23],[78,31,66,29,"api"],[78,34,66,32],[78,35,66,32,"default"],[78,42,66,32],[78,43,66,33,"post"],[78,47,66,37],[78,48,66,38],[78,64,66,54],[78,66,66,56],[79,10,66,58,"email"],[79,15,66,63],[80,10,66,65,"password"],[80,18,66,73],[81,10,66,75,"username"],[81,18,66,83],[82,10,66,85,"bio"],[83,8,66,89],[83,9,66,90],[83,10,66,91],[84,8,67,6],[84,14,67,12],[85,10,67,14,"access_token"],[85,22,67,26],[86,10,67,28,"user"],[86,14,67,32],[86,16,67,34,"userData"],[87,8,67,43],[87,9,67,44],[87,12,67,47,"response"],[87,20,67,55],[87,21,67,56,"data"],[87,25,67,60],[88,8,69,6],[88,14,69,12,"AsyncStorage"],[88,26,69,24],[88,27,69,24,"default"],[88,34,69,24],[88,35,69,25,"setItem"],[88,42,69,32],[88,43,69,33],[88,50,69,40],[88,52,69,42,"access_token"],[88,64,69,54],[88,65,69,55],[89,8,70,6],[89,14,70,12,"AsyncStorage"],[89,26,70,24],[89,27,70,24,"default"],[89,34,70,24],[89,35,70,25,"setItem"],[89,42,70,32],[89,43,70,33],[89,49,70,39],[89,51,70,41,"JSON"],[89,55,70,45],[89,56,70,46,"stringify"],[89,65,70,55],[89,66,70,56,"userData"],[89,74,70,64],[89,75,70,65],[89,76,70,66],[90,8,72,6,"setToken"],[90,16,72,14],[90,17,72,15,"access_token"],[90,29,72,27],[90,30,72,28],[91,8,73,6,"setUser"],[91,15,73,13],[91,16,73,14,"userData"],[91,24,73,22],[91,25,73,23],[92,6,74,4],[92,7,74,5],[92,8,74,6],[92,15,74,13,"error"],[92,20,74,23],[92,22,74,25],[93,8,75,6],[93,14,75,12],[93,18,75,16,"Error"],[93,23,75,21],[93,24,75,22,"error"],[93,29,75,27],[93,30,75,28,"response"],[93,38,75,36],[93,40,75,38,"data"],[93,44,75,42],[93,46,75,44,"detail"],[93,52,75,50],[93,56,75,54],[93,77,75,75],[93,78,75,76],[94,6,76,4],[95,4,77,2],[95,5,77,3],[96,4,79,2],[96,10,79,8,"logout"],[96,16,79,14],[96,19,79,17],[96,25,79,17,"logout"],[96,26,79,17],[96,31,79,29],[97,6,80,4],[97,12,80,10,"AsyncStorage"],[97,24,80,22],[97,25,80,22,"default"],[97,32,80,22],[97,33,80,23,"removeItem"],[97,43,80,33],[97,44,80,34],[97,51,80,41],[97,52,80,42],[98,6,81,4],[98,12,81,10,"AsyncStorage"],[98,24,81,22],[98,25,81,22,"default"],[98,32,81,22],[98,33,81,23,"removeItem"],[98,43,81,33],[98,44,81,34],[98,50,81,40],[98,51,81,41],[99,6,82,4,"setToken"],[99,14,82,12],[99,15,82,13],[99,19,82,17],[99,20,82,18],[100,6,83,4,"setUser"],[100,13,83,11],[100,14,83,12],[100,18,83,16],[100,19,83,17],[101,4,84,2],[101,5,84,3],[102,4,86,2],[102,24,87,4],[102,28,87,4,"_reactJsxDevRuntime"],[102,47,87,4],[102,48,87,4,"jsxDEV"],[102,54,87,4],[102,56,87,5,"AuthContext"],[102,67,87,16],[102,68,87,17,"Provider"],[102,76,87,25],[103,6,87,26,"value"],[103,11,87,31],[103,13,87,33],[104,8,87,35,"user"],[104,12,87,39],[105,8,87,41,"token"],[105,13,87,46],[106,8,87,48,"loading"],[106,15,87,55],[107,8,87,57,"login"],[107,13,87,62],[108,8,87,64,"register"],[108,16,87,72],[109,8,87,74,"logout"],[110,6,87,81],[110,7,87,83],[111,6,87,83,"children"],[111,14,87,83],[111,16,88,7,"children"],[112,4,88,15],[113,6,88,15,"fileName"],[113,14,88,15],[113,16,88,15,"_jsxFileName"],[113,28,88,15],[114,6,88,15,"lineNumber"],[114,16,88,15],[115,6,88,15,"columnNumber"],[115,18,88,15],[116,4,88,15],[116,11,89,26],[116,12,89,27],[117,2,91,0],[117,3,91,1],[118,2,91,2,"_s"],[118,4,91,2],[118,5,24,13,"AuthProvider"],[118,17,24,66],[119,2,24,66,"_c"],[119,4,24,66],[119,7,24,13,"AuthProvider"],[119,19,24,66],[120,2,93,7],[120,8,93,13,"useAuth"],[120,15,93,20],[120,18,93,23,"useAuth"],[120,19,93,23],[120,24,93,29],[121,4,93,29,"_s2"],[121,7,93,29],[122,4,94,2],[122,10,94,8,"context"],[122,17,94,15],[122,20,94,18],[122,24,94,18,"useContext"],[122,30,94,28],[122,31,94,28,"useContext"],[122,41,94,28],[122,43,94,29,"AuthContext"],[122,54,94,40],[122,55,94,41],[123,4,95,2],[123,8,95,6,"context"],[123,15,95,13],[123,20,95,18,"undefined"],[123,29,95,27],[123,31,95,29],[124,6,96,4],[124,12,96,10],[124,16,96,14,"Error"],[124,21,96,19],[124,22,96,20],[124,67,96,65],[124,68,96,66],[125,4,97,2],[126,4,98,2],[126,11,98,9,"context"],[126,18,98,16],[127,2,99,0],[127,3,99,1],[128,2,99,2,"_s2"],[128,5,99,2],[128,6,93,13,"useAuth"],[128,13,93,20],[129,2,93,20],[129,6,93,20,"_c"],[129,8,93,20],[130,2,93,20,"$RefreshReg$"],[130,14,93,20],[130,15,93,20,"_c"],[130,17,93,20],[131,0,93,20],[131,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECuB;YCK;GDE;yBEE;GFc;gBGE;GHa;mBIE;GJa;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}