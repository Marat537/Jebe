{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":31,"index":180}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await api.default.post('/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (email, password, username, bio = '') => {\n      try {\n        const response = await api.default.post('/auth/register', {\n          email,\n          password,\n          username,\n          bio\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":122,"map":[[13,2,24,0,"Object"],[13,8,24,0],[13,9,24,0,"defineProperty"],[13,23,24,0],[13,24,24,0,"exports"],[13,31,24,0],[14,4,24,0,"enumerable"],[14,14,24,0],[15,4,24,0,"get"],[15,7,24,0],[15,18,24,0,"get"],[15,19,24,0],[16,6,24,0],[16,13,24,0,"AuthProvider"],[16,25,24,0],[17,4,24,0],[18,2,24,0],[19,2,93,0,"Object"],[19,8,93,0],[19,9,93,0,"defineProperty"],[19,23,93,0],[19,24,93,0,"exports"],[19,31,93,0],[20,4,93,0,"enumerable"],[20,14,93,0],[21,4,93,0,"get"],[21,7,93,0],[21,18,93,0,"get"],[21,19,93,0],[22,6,93,0],[22,13,93,0,"useAuth"],[22,20,93,0],[23,4,93,0],[24,2,93,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_utilsApi"],[28,15,3,0],[28,18,3,0,"require"],[28,25,3,0],[28,26,3,0,"_dependencyMap"],[28,40,3,0],[29,2,3,0],[29,6,3,0,"api"],[29,9,3,0],[29,12,3,0,"_interopDefault"],[29,27,3,0],[29,28,3,0,"_utilsApi"],[29,37,3,0],[30,2,3,31],[30,6,3,31,"_reactJsxDevRuntime"],[30,25,3,31],[30,28,3,31,"require"],[30,35,3,31],[30,36,3,31,"_dependencyMap"],[30,50,3,31],[31,2,22,0],[31,8,22,6,"AuthContext"],[31,19,22,17],[31,35,22,20],[31,39,22,20,"createContext"],[31,45,22,33],[31,46,22,33,"createContext"],[31,59,22,33],[31,61,22,63,"undefined"],[31,70,22,72],[31,71,22,73],[32,2,24,7],[32,8,24,13,"AuthProvider"],[32,20,24,66],[32,23,24,69,"AuthProvider"],[32,24,24,70],[33,4,24,72,"children"],[34,2,24,81],[34,3,24,82],[34,8,24,87],[35,4,25,2],[35,10,25,8],[35,11,25,9,"user"],[35,15,25,13],[35,17,25,15,"setUser"],[35,24,25,22],[35,25,25,23],[35,28,25,26],[35,32,25,26,"useState"],[35,38,25,34],[35,39,25,34,"useState"],[35,47,25,34],[35,49,25,48],[35,53,25,52],[35,54,25,53],[36,4,26,2],[36,10,26,8],[36,11,26,9,"token"],[36,16,26,14],[36,18,26,16,"setToken"],[36,26,26,24],[36,27,26,25],[36,30,26,28],[36,34,26,28,"useState"],[36,40,26,36],[36,41,26,36,"useState"],[36,49,26,36],[36,51,26,52],[36,55,26,56],[36,56,26,57],[37,4,27,2],[37,10,27,8],[37,11,27,9,"loading"],[37,18,27,16],[37,20,27,18,"setLoading"],[37,30,27,28],[37,31,27,29],[37,34,27,32],[37,38,27,32,"useState"],[37,44,27,40],[37,45,27,40,"useState"],[37,53,27,40],[37,55,27,41],[37,59,27,45],[37,60,27,46],[38,4,29,2],[38,8,29,2,"useEffect"],[38,14,29,11],[38,15,29,11,"useEffect"],[38,24,29,11],[38,26,29,12],[38,32,29,18],[39,6,30,4,"loadStoredAuth"],[39,20,30,18],[39,21,30,19],[39,22,30,20],[40,4,31,2],[40,5,31,3],[40,7,31,5],[40,9,31,7],[40,10,31,8],[41,4,33,2],[41,10,33,8,"loadStoredAuth"],[41,24,33,22],[41,27,33,25],[41,33,33,25,"loadStoredAuth"],[41,34,33,25],[41,39,33,37],[42,6,34,4],[42,10,34,8],[43,8,35,6],[43,14,35,12,"storedToken"],[43,25,35,23],[43,28,35,26],[43,34,35,32,"AsyncStorage"],[43,46,35,44],[43,47,35,44,"default"],[43,54,35,44],[43,55,35,45,"getItem"],[43,62,35,52],[43,63,35,53],[43,70,35,60],[43,71,35,61],[44,8,36,6],[44,14,36,12,"storedUser"],[44,24,36,22],[44,27,36,25],[44,33,36,31,"AsyncStorage"],[44,45,36,43],[44,46,36,43,"default"],[44,53,36,43],[44,54,36,44,"getItem"],[44,61,36,51],[44,62,36,52],[44,68,36,58],[44,69,36,59],[45,8,38,6],[45,12,38,10,"storedToken"],[45,23,38,21],[45,27,38,25,"storedUser"],[45,37,38,35],[45,39,38,37],[46,10,39,8,"setToken"],[46,18,39,16],[46,19,39,17,"storedToken"],[46,30,39,28],[46,31,39,29],[47,10,40,8,"setUser"],[47,17,40,15],[47,18,40,16,"JSON"],[47,22,40,20],[47,23,40,21,"parse"],[47,28,40,26],[47,29,40,27,"storedUser"],[47,39,40,37],[47,40,40,38],[47,41,40,39],[48,8,41,6],[49,6,42,4],[49,7,42,5],[49,8,42,6],[49,15,42,13,"error"],[49,20,42,18],[49,22,42,20],[50,8,43,6,"console"],[50,15,43,13],[50,16,43,14,"error"],[50,21,43,19],[50,22,43,20],[50,43,43,41],[50,45,43,43,"error"],[50,50,43,48],[50,51,43,49],[51,6,44,4],[51,7,44,5],[51,16,44,14],[52,8,45,6,"setLoading"],[52,18,45,16],[52,19,45,17],[52,24,45,22],[52,25,45,23],[53,6,46,4],[54,4,47,2],[54,5,47,3],[55,4,49,2],[55,10,49,8,"login"],[55,15,49,13],[55,18,49,16],[55,24,49,16,"login"],[55,25,49,23,"email"],[55,30,49,36],[55,32,49,38,"password"],[55,40,49,54],[55,45,49,59],[56,6,50,4],[56,10,50,8],[57,8,51,6],[57,14,51,12,"response"],[57,22,51,20],[57,25,51,23],[57,31,51,29,"api"],[57,34,51,32],[57,35,51,32,"default"],[57,42,51,32],[57,43,51,33,"post"],[57,47,51,37],[57,48,51,38],[57,61,51,51],[57,63,51,53],[58,10,51,55,"email"],[58,15,51,60],[59,10,51,62,"password"],[60,8,51,71],[60,9,51,72],[60,10,51,73],[61,8,52,6],[61,14,52,12],[62,10,52,14,"access_token"],[62,22,52,26],[63,10,52,28,"user"],[63,14,52,32],[63,16,52,34,"userData"],[64,8,52,43],[64,9,52,44],[64,12,52,47,"response"],[64,20,52,55],[64,21,52,56,"data"],[64,25,52,60],[65,8,54,6],[65,14,54,12,"AsyncStorage"],[65,26,54,24],[65,27,54,24,"default"],[65,34,54,24],[65,35,54,25,"setItem"],[65,42,54,32],[65,43,54,33],[65,50,54,40],[65,52,54,42,"access_token"],[65,64,54,54],[65,65,54,55],[66,8,55,6],[66,14,55,12,"AsyncStorage"],[66,26,55,24],[66,27,55,24,"default"],[66,34,55,24],[66,35,55,25,"setItem"],[66,42,55,32],[66,43,55,33],[66,49,55,39],[66,51,55,41,"JSON"],[66,55,55,45],[66,56,55,46,"stringify"],[66,65,55,55],[66,66,55,56,"userData"],[66,74,55,64],[66,75,55,65],[66,76,55,66],[67,8,57,6,"setToken"],[67,16,57,14],[67,17,57,15,"access_token"],[67,29,57,27],[67,30,57,28],[68,8,58,6,"setUser"],[68,15,58,13],[68,16,58,14,"userData"],[68,24,58,22],[68,25,58,23],[69,6,59,4],[69,7,59,5],[69,8,59,6],[69,15,59,13,"error"],[69,20,59,23],[69,22,59,25],[70,8,60,6],[70,14,60,12],[70,18,60,16,"Error"],[70,23,60,21],[70,24,60,22,"error"],[70,29,60,27],[70,30,60,28,"response"],[70,38,60,36],[70,40,60,38,"data"],[70,44,60,42],[70,46,60,44,"detail"],[70,52,60,50],[70,56,60,54],[70,70,60,68],[70,71,60,69],[71,6,61,4],[72,4,62,2],[72,5,62,3],[73,4,64,2],[73,10,64,8,"register"],[73,18,64,16],[73,21,64,19],[73,27,64,19,"register"],[73,28,64,26,"email"],[73,33,64,39],[73,35,64,41,"password"],[73,43,64,57],[73,45,64,59,"username"],[73,53,64,75],[73,55,64,77,"bio"],[73,58,64,88],[73,61,64,91],[73,63,64,93],[73,68,64,98],[74,6,65,4],[74,10,65,8],[75,8,66,6],[75,14,66,12,"response"],[75,22,66,20],[75,25,66,23],[75,31,66,29,"api"],[75,34,66,32],[75,35,66,32,"default"],[75,42,66,32],[75,43,66,33,"post"],[75,47,66,37],[75,48,66,38],[75,64,66,54],[75,66,66,56],[76,10,66,58,"email"],[76,15,66,63],[77,10,66,65,"password"],[77,18,66,73],[78,10,66,75,"username"],[78,18,66,83],[79,10,66,85,"bio"],[80,8,66,89],[80,9,66,90],[80,10,66,91],[81,8,67,6],[81,14,67,12],[82,10,67,14,"access_token"],[82,22,67,26],[83,10,67,28,"user"],[83,14,67,32],[83,16,67,34,"userData"],[84,8,67,43],[84,9,67,44],[84,12,67,47,"response"],[84,20,67,55],[84,21,67,56,"data"],[84,25,67,60],[85,8,69,6],[85,14,69,12,"AsyncStorage"],[85,26,69,24],[85,27,69,24,"default"],[85,34,69,24],[85,35,69,25,"setItem"],[85,42,69,32],[85,43,69,33],[85,50,69,40],[85,52,69,42,"access_token"],[85,64,69,54],[85,65,69,55],[86,8,70,6],[86,14,70,12,"AsyncStorage"],[86,26,70,24],[86,27,70,24,"default"],[86,34,70,24],[86,35,70,25,"setItem"],[86,42,70,32],[86,43,70,33],[86,49,70,39],[86,51,70,41,"JSON"],[86,55,70,45],[86,56,70,46,"stringify"],[86,65,70,55],[86,66,70,56,"userData"],[86,74,70,64],[86,75,70,65],[86,76,70,66],[87,8,72,6,"setToken"],[87,16,72,14],[87,17,72,15,"access_token"],[87,29,72,27],[87,30,72,28],[88,8,73,6,"setUser"],[88,15,73,13],[88,16,73,14,"userData"],[88,24,73,22],[88,25,73,23],[89,6,74,4],[89,7,74,5],[89,8,74,6],[89,15,74,13,"error"],[89,20,74,23],[89,22,74,25],[90,8,75,6],[90,14,75,12],[90,18,75,16,"Error"],[90,23,75,21],[90,24,75,22,"error"],[90,29,75,27],[90,30,75,28,"response"],[90,38,75,36],[90,40,75,38,"data"],[90,44,75,42],[90,46,75,44,"detail"],[90,52,75,50],[90,56,75,54],[90,77,75,75],[90,78,75,76],[91,6,76,4],[92,4,77,2],[92,5,77,3],[93,4,79,2],[93,10,79,8,"logout"],[93,16,79,14],[93,19,79,17],[93,25,79,17,"logout"],[93,26,79,17],[93,31,79,29],[94,6,80,4],[94,12,80,10,"AsyncStorage"],[94,24,80,22],[94,25,80,22,"default"],[94,32,80,22],[94,33,80,23,"removeItem"],[94,43,80,33],[94,44,80,34],[94,51,80,41],[94,52,80,42],[95,6,81,4],[95,12,81,10,"AsyncStorage"],[95,24,81,22],[95,25,81,22,"default"],[95,32,81,22],[95,33,81,23,"removeItem"],[95,43,81,33],[95,44,81,34],[95,50,81,40],[95,51,81,41],[96,6,82,4,"setToken"],[96,14,82,12],[96,15,82,13],[96,19,82,17],[96,20,82,18],[97,6,83,4,"setUser"],[97,13,83,11],[97,14,83,12],[97,18,83,16],[97,19,83,17],[98,4,84,2],[98,5,84,3],[99,4,86,2],[99,24,87,4],[99,28,87,4,"_reactJsxDevRuntime"],[99,47,87,4],[99,48,87,4,"jsxDEV"],[99,54,87,4],[99,56,87,5,"AuthContext"],[99,67,87,16],[99,68,87,17,"Provider"],[99,76,87,25],[100,6,87,26,"value"],[100,11,87,31],[100,13,87,33],[101,8,87,35,"user"],[101,12,87,39],[102,8,87,41,"token"],[102,13,87,46],[103,8,87,48,"loading"],[103,15,87,55],[104,8,87,57,"login"],[104,13,87,62],[105,8,87,64,"register"],[105,16,87,72],[106,8,87,74,"logout"],[107,6,87,81],[107,7,87,83],[108,6,87,83,"children"],[108,14,87,83],[108,16,88,7,"children"],[109,4,88,15],[110,6,88,15,"fileName"],[110,14,88,15],[110,16,88,15,"_jsxFileName"],[110,28,88,15],[111,6,88,15,"lineNumber"],[111,16,88,15],[112,6,88,15,"columnNumber"],[112,18,88,15],[113,4,88,15],[113,11,89,26],[113,12,89,27],[114,2,91,0],[114,3,91,1],[115,2,93,7],[115,8,93,13,"useAuth"],[115,15,93,20],[115,18,93,23,"useAuth"],[115,19,93,23],[115,24,93,29],[116,4,94,2],[116,10,94,8,"context"],[116,17,94,15],[116,20,94,18],[116,24,94,18,"useContext"],[116,30,94,28],[116,31,94,28,"useContext"],[116,41,94,28],[116,43,94,29,"AuthContext"],[116,54,94,40],[116,55,94,41],[117,4,95,2],[117,8,95,6,"context"],[117,15,95,13],[117,20,95,18,"undefined"],[117,29,95,27],[117,31,95,29],[118,6,96,4],[118,12,96,10],[118,16,96,14,"Error"],[118,21,96,19],[118,22,96,20],[118,67,96,65],[118,68,96,66],[119,4,97,2],[120,4,98,2],[120,11,98,9,"context"],[120,18,98,16],[121,2,99,0],[121,3,99,1],[122,0,99,2],[122,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;qECuB;YCK;GDE;yBEE;GFc;gBGE;GHa;mBIE;GJa;iBKE;GLK;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}